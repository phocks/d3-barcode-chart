<!DOCTYPE html>
<meta charset="utf-8">
<title>Barcode Chart</title>
<style></style>
<svg width="960" height="200"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
const chartWidth = 500,
      chartHeight = 24,
      barWidth = Math.floor(chartWidth / 100);

const chartScale = d3.scaleLinear()
    .domain([0, 100])
    .range([0,500]);

d3.json("data.json", function(data) {
    drawChart(data.automationData);
  });

function drawChart(data) {
  const svgEl = d3.select("svg")

  barcodeGroup = svgEl.append('g')
    .attr("transform", "translate(20, 20)");

  barcodeGroup.append("rect")
    .attr("width", chartWidth)
    .attr("height", chartHeight)
    .style("fill", "#eee");

  barcodeGroup.selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr("width", 5)
    .attr("height", chartHeight)
    .style("fill", "rgba(0, 0, 0, 0.1)")
    .attr('x', function (d, i) {
      return chartScale(d.percentLessSusceptible);
    });
}
</script>