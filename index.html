<!DOCTYPE html>
<meta charset="utf-8">
<title>Barcode Chart</title>
<style>

</style>
<svg width="960" height="200"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<!-- <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script> -->
<script>
  // const bodyEl = d3.select("body")
  //   .styles({
  //     "background-color": "#f9f9f9",
  //     // "color": "black"
  //   });

d3.json("data.json", function(data) {
    drawChart(data.automationData);
  });

function drawChart(data) {
  const svgEl = d3.select("svg")
    // .attr("viewBox", "0 0 100 100");
    // .attr("width", 200)
    // .attr("height", 200);

  barcodeGroup = svgEl.append('g')
    .attr("transform", "translate(20, 20)");

  barcodeGroup.append("rect")
    .attr("width", 500)
    .attr("height", 24)
    .style("fill", "#eee");

  barcodeGroup.selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr("width", 5)
    .attr("height", 24)
    .style("fill", "rgba(0, 0, 0, 0.1)")
    .attr('x', function (d, i) {
      return d.percentLessSusceptible;
    });


  barcodeGroup.append("rect")
    .attr("width", 5)
    .attr("height", 24)
    .style("fill", "rgba(0, 0, 0, 0.1)");
}


</script>